<ion-header>
  <ion-toolbar>
    <ion-searchbar placeholder="" inputmode="text" type="text" [debounce]="250" showCancelButton="always" (ionCancel)="cancel()"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list *ngIf="path === ''">
    <ion-item-group *ngIf="globalVariables !== []">
      <ion-item-divider>
        <ion-icon slot="start" name="pricetag"></ion-icon >
        <ion-label>Variables globales</ion-label>
      </ion-item-divider>
      <div *ngFor="let variable of globalVariables">
        <ion-item *ngIf="isObject(variable)" (click)="getVariable(path + '.' + variable.name)" button detail>
          <ion-label slot="start">{{variable.name}}</ion-label>
        </ion-item>
        <ion-item *ngIf="!isObject(variable)">
          <ion-label slot="start">{{variable.name}}</ion-label>
          <ion-label>{{variable.value}}</ion-label>
        </ion-item>
      </div>
      
    </ion-item-group>
  
    <ion-item-group *ngIf="roles !== []">
      <ion-item-divider>
        <ion-icon slot="start" name="at"></ion-icon>
        <ion-label>RÃ´les</ion-label>
      </ion-item-divider>
  
      <ion-item *ngFor="let role of roles" button detail>
        <ion-label>
          {{role}}
        </ion-label>
      </ion-item>
    </ion-item-group>
  </ion-list>

  <ion-list *ngIf="path !== ''">
    <ion-item-divider>
      <ion-button (click)="getParent()" expand="block" fill="clear" shape="round">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon >
      </ion-button>
      <ion-label>{{path}}</ion-label>
    </ion-item-divider>
    <div *ngFor="let variable of subVariables">
      <ion-item *ngIf="isObject(variable)" (click)="getVariable(path + '.' + variable.name)" button detail>
        <ion-label slot="start">{{variable.name}}</ion-label>
      </ion-item>
      <ion-item *ngIf="!isObject(variable)">
        <ion-label slot="start">{{variable.name}}</ion-label>
        <ion-label>{{variable.value}}</ion-label>
      </ion-item>
    </div>
  </ion-list>
</ion-content>