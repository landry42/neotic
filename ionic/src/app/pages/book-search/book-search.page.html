<ion-header>
  <ion-searchbar
    mode="ios"
    [(ngModel)]="filter" 
    [placeholder]="'HOME.search' | translate" 
    (ionChange)="search()" 
    [debounce]="250"
    showCancelButton="always"
    searchIcon="search"
    (ionCancel)="cancel()"
    #searchBar
    ></ion-searchbar>
</ion-header>

<ion-content fullscreen>
  <div *ngIf="filter.length !== 0; else nothing">
    <div *ngIf="!loading && books.length !== 0; else noresult">
      <ion-list style="height: 100vh" >
        <div>
          <ion-grid fixed>
            <ion-row>
              <ion-col *ngFor="let book of books" size="auto">
                <app-card-book [book]="book"></app-card-book>
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>
      </ion-list>
    </div>
  </div>
  
  <ng-template #nothing>
    <div style="width: 100%; height: 100%;" class="center">
      <ion-text color="medium">
        <h2><ion-icon name="search"></ion-icon>  {{'SEARCH.nosearch' | translate}}</h2>
      </ion-text>
    </div>
  </ng-template>

  <ng-template #noresult>
    <div style="width: 100%; height: 100%;" class="center">
      <ion-text color="medium">
        <h2><ion-icon name="search"></ion-icon>  {{'SEARCH.noresult' | translate}}</h2>
      </ion-text>
    </div>
  </ng-template>
</ion-content>
